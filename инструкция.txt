ИНСТРУКЦИЯ (Задача 4 — MAS + GigaChat)
=====================================

Хост стенда: 10.62.28.10
SSH: admin / qwerty123

## Запуск MAS
1. Поднять менеджер:
   cd manager && bash run.sh
   Проверка: http://10.62.28.10:8000

2. Зарегистрировать агента:
   python3 deploy/register_agent.py --manager http://10.62.28.10:8000 --config agent/config.yaml

3. Запустить агента (разово):
   cd agent && python3 agent.py

4. Запустить LLM-агента:
   cd llm_agent && python3 analyzer.py --manager http://10.62.28.10:8000 --output analysis.txt

## Работа с токеном GigaChat
⚠️ Токен действует 30 минут.

1) Ручное получение:
   cd task_4/llm_agent
   ./get_token.sh <Authorization_key>
   source ~/.gigachat.env

2) Автоматическое обновление:
   sudo cp task_4/llm_agent/gigachat-token.sh /opt/mas_template/task_4/llm_agent/
   sudo cp task_4/llm_agent/gigachat-token.service /etc/systemd/system/
   sudo systemctl daemon-reload
   sudo systemctl enable gigachat-token.service
   sudo systemctl start gigachat-token.service

   Проверка:
   systemctl status gigachat-token.service
   cat /etc/profile.d/gigachat.sh

После этого LLM-агент всегда видит актуальный токен.

## One-liner demo (быстрая проверка)
    cd ~/task_4/manager && bash run.sh &
    cd ~/task_4 && sudo python3 deploy/register_agent.py --manager http://10.62.28.10:8000 --config agent/config.yaml
    cd ~/task_4/agent && sudo python3 agent.py
    cd ~/task_4/llm_agent && ./get_token.sh <Authorization_key> && source ~/.gigachat.env
    python3 analyzer.py --manager http://10.62.28.10:8000 --output analysis.txt

Откройте http://10.62.28.10:8000 и убедитесь, что у отчёта стоит галочка LLM? ✅
